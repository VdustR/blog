---
description: 稍微記錄一下 addEventListener useCapture 的效果。
image: https://vdustr.dev/asset-2022/03-14-add-event-listener-use-capture/og.png
authors: [ViPro]
tags:
  - event
  - addEventListener
  - useCapture
  - propagation
---

# addEventListener() useCapture

稍微記錄一下 [`addEventListener()` `useCapture`](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#usecapture) 的效果。

![addEventListener() useCapture](https://vdustr.dev/asset-2022/03-14-add-event-listener-use-capture/og.png)

<!--truncate-->

<iframe
  src="https://codesandbox.io/embed/usecapture-8tdyr9?fontsize=14&hidenavigation=1&theme=dark"
  style={{
    width: "100%",
    height: "500px",
    border: 0,
    borderRadius: "4px",
    overflow: "hidden",
  }}
  title="useCapture"
  allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
  sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
/>

`useCapture` 為 `true` 的事件會先觸發，父層的 listener 較子層先觸發；結束了之後才會開始觸發 `useCapture` 為 `false` 的事件，子層的 listener 較父層先觸發。以上整串事件冒泡都可以透過 `event.stopPropagation()` 停止。

Reference: <https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#usecapture>
